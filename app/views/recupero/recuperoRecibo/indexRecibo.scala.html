@(buscador: utils.pagination.Pagination[models.recupero.RecuperoRecibo], formBuscador: DynamicForm)
@import helper._
@import utils._
@import models.auth._
@implicitFieldConstructor = @{ FieldConstructor(simpleInput.render) }
@scripts = {

}

@getClassEstado(i:Estado) = @{
	var classEstado:String = new String()
	if(i != null && i.id == 120){
		classEstado = "borrador"
	}else if(i != null && i.id == 122){
		classEstado = "cancelada"
	}else if(i != null && i.id == 121){
		classEstado = "autorizado"
	}
	classEstado

}

@views.html.recupero.mainRecupero("Lista de Recibos", scripts) {
	<div class="page-header">
		<div class="row">
			<div class="col-sm-7">
				<h1>Lista de Recibos</h1>
			</div>

			<div class="col-sm-5">


				<div class="dropdown pull-right btn-header">
				 <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
				 	<i class="glyphicon glyphicon-cog"></i>
				    Acciones
				    <span class="caret"></span>
				  </button>
				  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">

				  </ul>
				</div>

				<div class="pull-right btn-header">
					<a href="@controllers.recupero.routes.RecuperoRecibosController.crear()?@UriTrack.encode()"  class="btn btn-default"><i class="glyphicon glyphicon-plus-sign"></i> Nuevo Recibo</a>
				</div>
			</div>
		</div>
	</div>

	@views.html.tags.successError()

	<div id="actions">
		<form action="" id="formSearchPlanillas" method="GET">

		<div class="row">

			<div class="col-sm-2">
				<div class="form-group">
					<label for="nombre" class="control-label">Numero
					@inputText(formBuscador("numero"), 'class -> "form-control", 'autofocus -> "autofocus")
					</label>
				</div>
			</div>



			<div class="col-sm-2 input-group">
				<label class="control-label">Fecha</label>
				<div>
				@inputText(formBuscador("fecha_desde"), 'class -> "form-control dateMask inputDateMascara", 'id -> "desde", 'placeholder -> "Desde")
				@inputText(formBuscador("fecha_hasta"), 'class -> "form-control dateMask inputDateMascara", 'id -> "hasta", 'placeholder -> "Hasta")
				</div>

			</div>



		</div>
		<div class="row">
			<div class="col-sm-2">
				<div class="form-group">
				<label for="nombre" class="control-label">&nbsp;</label>
				<button  class="form-control btn btn-primary">Buscar</button>
				</div>
			</div>
			<div class="col-sm-2">
				<div class="form-group">
				<label for="nombre" class="control-label">&nbsp;</label>
				<a href="@controllers.recupero.routes.RecuperoPlanillasController.index()"  class="form-control btn btn-default">Limpiar</a>
				</div>
			</div>
		</div>

		</form>
	</div>

	@if(buscador.getTotalRowCount == 0) {

        <div class="well">
            <em>No se encuentran Recibos</em>
        </div>

    } else {
		<table id="listaPlanillas" class="table table-striped table-bordered">
			<thead>
				<tr style="background: #FFFFFF;">
			        <td colspan="6">Mostrando @buscador.getDisplayXtoYofZ(" a "," de ") resultado(s). </td>
			    </tr>
				<tr>
					<th width="30"><input type="checkbox" name="checkAll" id="checkAll"/></th>
					<th width="30">#</th>

					<th width="900">Numero</th>
					<th width="70">Fecha</th>
					<th width="70">Estado</th>

					<th width="30">#</th>
				</tr>
			</thead>
			<tbody>
				@for(recibo <- buscador.getList) {

					<tr class="pointer @getClassEstado(recibo.estado)" data-estado="@recibo.estado_id" data-href="@controllers.recupero.routes.RecuperoRecibosController.ver(recibo.id)&@UriTrack.encode()">
						<td  width="30"><input type="checkbox" name="check_listado[]" value="@recibo.id" class="notSeleccion" id="check-@recibo.id"/></td>
						<td><a class="btn btn-default btn-xs notSeleccion" href="@controllers.recupero.routes.RecuperoRecibosController.editar(recibo.id)&@UriTrack.encode()"><i class="glyphicon glyphicon-edit"></i></a></td>

						<td>@(recibo.numero)</td>
						<td class="fecha">@if(recibo.fecha != null){@(utils.DateUtils.formatDate(recibo.fecha))}</td>
						<td class="fecha">@if(recibo.estado != null){@(recibo.estado.nombre)}</td>

						<td>
							<a class="btn btn-default btn-xs delete-confirm-link notSeleccion" href="@controllers.recupero.routes.RecuperoRecibosController.eliminar(recibo.id)&@UriTrack.encode()">
								<i class="glyphicon glyphicon-trash icono-eliminar"></i>
							</a>
						</td>
					</tr>
	             }

	        </tbody>
	        <tfoot>
		        <tr>
			        <td colspan="6">&nbsp</td>

		        </tr>
	        </tfoot>
        </table>


    <div class="pagination pull-right">
	    @views.html.helpers.paginador(buscador, controllers.recupero.routes.RecuperoRecibosController.index())
	</div>
<script>
$( function (){
	var n = 0;
	var b = 0;
	var c = 0;


	$( "#checkAll" ).click(function() {

		  	selectAll();
	});
	$( "input[name='check_listado[]']" ).click(function() {
		selectTrList();
	});
});

function selectTrList(){
	var n = 0;
	var b = 0;
	var c = 0;
}

function selectAll(){
	var n = 0;
	var b = 0;
	var c = 0;
	if($("#checkAll").prop("checked")){
		$("input[name='check_listado[]']").prop( "checked", true );

	}else{
		$( "input[name='check_listado[]']").prop( "checked", false );
	}


}

</script>

	}

}