@(produccionPuestoPeriodo: List[models.novedades.ProduccionPuestoPeriodo])
@import helper._
@import utils._
@import models.auth._
@implicitFieldConstructor = @{ FieldConstructor(simpleInput.render) }
@import java.lang.Integer; var bandera =0;var xx =0
@import java.lang.String;var agenteNombre =""
@import java.math.BigDecimal;var total=new java.math.BigDecimal(0);

@for(ppp <- produccionPuestoPeriodo) {

		@if(bandera != 0 && agenteNombre.compareTo(ppp.puestoLaboral.legajo.agente.apellido) != 0){
				</tbody>

				<tfoot>
					<tr>
						<td align="right" colspan="4"><b>TOTALES</b></td>
						<td style="text-align: right;"><b>@utils.NumberUtils.moneda(total)</b></td>
					</tr>
				</tfoot>
			</table>
		}

		@if(agenteNombre.compareTo(ppp.puestoLaboral.legajo.agente.apellido) != 0){
			<table class="table table-striped table-bordered table-hover" id="listaInforme">
				<thead>
					<th colspan="5" align="center" style="font-size:20px;">@ppp.puestoLaboral.legajo.agente.apellido</th>
				</thead>

				<thead>
					<th  width="80" style="text-align: center;">Cod. IPS</th>
					<th>Nombre</th>
					<th width="50" style="text-align: center;">Q</th>
					<th width="100" style="text-align: center;">Precio</th>
					<th width="100" style="text-align: center;">Total</th>
				</thead>
			<tbody>
			@{total= new java.math.BigDecimal(0);}
		}

			<tr>
				<td style="text-align: center;">@ppp.codigo_ips</td>
				<td>@ppp.nombre_rismi</td>
				<td style="text-align: center;">@ppp.cantidad</td>
				<td style="text-align: center;">@utils.NumberUtils.moneda(ppp.valor_ips)</td>
				<td style="text-align: right;">@utils.NumberUtils.moneda(ppp.getTotal())</td>
			</tr>
			@{total= total.add(ppp.getTotal())}
			@{bandera = 1}


	@{agenteNombre = ppp.puestoLaboral.legajo.agente.apellido}
}

	</tbody>

		<tfoot>
			<tr>

				<td align="right" colspan="4"><b>TOTALES</b></td>

				<td style="text-align: right;"><b>@utils.NumberUtils.moneda(total)</b></td>
			</tr>
		</tfoot>
	</table>


