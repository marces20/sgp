@(produccionPuestoPeriodo:List[com.avaje.ebean.SqlRow])
@import helper._
@import utils._
@import models.auth._
@implicitFieldConstructor = @{ FieldConstructor(simpleInput.render) }
@import java.lang.Integer; var bandera =0;var xx =0
@import java.lang.String;var agenteNombre =""
@import java.math.BigDecimal;var total=new java.math.BigDecimal(0);var porcentaje=new java.math.BigDecimal(0);var minutos_practicas=new java.math.BigDecimal(0);var minutos_profesional=new java.math.BigDecimal(0);

<table class="table table-striped table-bordered table-hover" id="listaInforme">
		<thead>
			<th colspan="11" align="center" style="font-size:20px;">PRODUCCION TOTALIZADA</th>
		</thead>

		<thead>
			<th>Nombre</th>
			<th width="100" style="text-align: center;">Dias</th>
			<th width="100" style="text-align: center;">Min. Prof.</th>
			<th width="100" style="text-align: center;">Min. Pract.</th>
			<th width="100" style="text-align: center;">Valor Min.</th>
			<th width="100" style="text-align: center;">Monto Sueldo</th>
			<th width="100" style="text-align: center;">Monto Espec.</th>
			<th width="100" style="text-align: center;">Min. Exc.</th>
			<th width="100" style="text-align: center;">Produccion</th>
			<th width="100" style="text-align: center;">%</th>
			<th width="100" style="text-align: center;">% NETA</th>



		</thead>
	<tbody>
		@for(ppp <- produccionPuestoPeriodo) {
			@{minutos_practicas =new java.math.BigDecimal(ppp.getInteger("minutos_practicas"))}
			@{minutos_profesional = new java.math.BigDecimal(ppp.getInteger("minutos_profesional"))}
			@{porcentaje= minutos_practicas.multiply(new java.math.BigDecimal(100)).divide(minutos_profesional, 2, java.math.RoundingMode.HALF_UP).subtract(new java.math.BigDecimal(100)) }




 			<tr>
				<td>@ppp.getString("apellido")</td>
				<td style="text-align: center;">@ppp.getInteger("dias_mes")</td>
				<td style="text-align: center;">@ppp.getInteger("minutos_profesional")</td>
				<td style="text-align: center;">@ppp.getInteger("minutos_practicas")</td>
				<td style="text-align: center;">@utils.NumberUtils.moneda(ppp.getBigDecimal("valor_minuto"))</td>
				<td style="text-align: center;">@utils.NumberUtils.moneda(ppp.getBigDecimal("monto_sueldo"))</td>
				<td style="text-align: center;">@utils.NumberUtils.moneda(ppp.getBigDecimal("monto_especialidad"))</td>
				<td style="text-align: center;">@ppp.getInteger("minutos_exedentes")</td>
				<td style="text-align: center;">@utils.NumberUtils.moneda(ppp.getBigDecimal("produccion"))</td>
				 <td style="text-align: center;">
					<b @if(porcentaje.compareTo(java.math.BigDecimal.ZERO) < 0){ style="color:red;"} >@porcentaje %</b>
				</td>
				<td style="text-align: center;">
					<b @if(porcentaje.add(new java.math.BigDecimal(100)).compareTo(new java.math.BigDecimal(80)) < 0){ style="color:red;"} >@porcentaje.add(new java.math.BigDecimal(100))%</b>
				</td>

			</tr>

			 @if(ppp.getBigDecimal("produccion").compareTo(java.math.BigDecimal.ZERO) > 0){
				@{total= total.add(ppp.getBigDecimal("produccion"))}
				}



		}
	</tbody>

	<tfoot>
		<tr>
			<td align="right" colspan="8"><b>TOTALES</b></td>
			<td style="text-align: right;"><b>@utils.NumberUtils.moneda(total)</b></td>
			<td align="right" colspan="2"><b></b></td>
		</tr>
	</tfoot>
</table>