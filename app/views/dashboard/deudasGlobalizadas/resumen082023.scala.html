@(formBuscador: DynamicForm,proveedoresDestacados: List[com.avaje.ebean.SqlRow],
proveedoresOtrosServicios: List[com.avaje.ebean.SqlRow],
proveedoresOtrosRubros: List[com.avaje.ebean.SqlRow],
proveedoresOtrosEquipos: List[com.avaje.ebean.SqlRow]
)
@import helper._
@import utils._
@import models.auth._
@implicitFieldConstructor = @{ FieldConstructor(simpleInput.render) }
@import java.math.BigDecimal;var haycms = new Boolean(false);var haymission = new Boolean(false);var monto_total_mission_tmp= new java.math.BigDecimal(0);var monto_total_tramite_mission_tmp= new java.math.BigDecimal(0);var monto_total_tramite_nr_tmp= new java.math.BigDecimal(0); var monto_total_cms_tmp= new java.math.BigDecimal(0);var monto_total_tramite_cms_tmp= new java.math.BigDecimal(0);var haypindoi:Boolean = new Boolean(false);var monto_total_pindoi_tmp= new java.math.BigDecimal(0);var monto_total_tramite_pindoi_tmp= new java.math.BigDecimal(0);var haypacific:Boolean = new Boolean(false);var monto_total_pacific_tmp= new java.math.BigDecimal(0);var monto_total_tramite_pacific_tmp= new java.math.BigDecimal(0);var haynr :Boolean = new Boolean(false);var monto_total_nr_tmp= new java.math.BigDecimal(0);var haysanjorge :Boolean = new Boolean(false);var monto_total_sanjorge_tmp= new java.math.BigDecimal(0);var monto_total_tramite_sanjorge_tmp= new java.math.BigDecimal(0);var haysafita:Boolean = new Boolean(false);var monto_total_safita_tmp= new java.math.BigDecimal(0);var monto_total_tramite_safita_tmp= new java.math.BigDecimal(0);var monto_total_deuda = new java.math.BigDecimal(0);var monto_total_tramite = new java.math.BigDecimal(0);var hayips:Boolean = new Boolean(false);var haybisio:Boolean = new Boolean(false);var hayra:Boolean = new Boolean(false);var hayteje:Boolean = new Boolean(false);var hayyaka:Boolean = new Boolean(false);var monto_total_bisionesServicios_tmp = new java.math.BigDecimal(0);var monto_total_tramite_bisionesServicios_tmp = new java.math.BigDecimal(0);var total_deuda  = new java.math.BigDecimal(0);var monto_total_bisio_tmp = new java.math.BigDecimal(0);var monto_total_tramite_bisio_tmp = new java.math.BigDecimal(0);var monto_total_equipos_tmp = new java.math.BigDecimal(0);var monto_total_tramite_equipos_tmp = new java.math.BigDecimal(0);var monto_total_otrosrubros_tmp = new java.math.BigDecimal(0);var monto_total_tramite_otrosrubros_tmp = new java.math.BigDecimal(0);var monto_total_servicios_tmp  = new java.math.BigDecimal(0);var monto_total_tramite_servicios_tmp  = new java.math.BigDecimal(0);var zero = new java.math.BigDecimal(0);var monto_total_ips_tmp=new java.math.BigDecimal(0);var monto_total_tramite_ips_tmp=new java.math.BigDecimal(0);var monto_total_ra_tmp=new java.math.BigDecimal(0);var monto_total_tramite_ra_tmp=new java.math.BigDecimal(0);var monto_total_teje_tmp=new java.math.BigDecimal(0);var monto_total_tramite_teje_tmp=new java.math.BigDecimal(0);var monto_total_yaka_tmp=new java.math.BigDecimal(0);var monto_total_tramite_yaka_tmp=new java.math.BigDecimal(0);
@scripts = {
	<script src="@routes.Assets.at("javascripts/dashboard/resumen082023.js")" type="text/javascript"></script>
}


@views.html.informes.mainInformes("RESUMEN", scripts) {
<div class="page-content" class="" style="padding-left: 10px;">
<div class="page-header">
	<div class="row">
		<div class="col-sm-7">
			<h1>Resumen</h1>
		</div>
		<div class="col-sm-5">
			<div class="dropdown pull-right">
			 <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
			 	<i class="glyphicon glyphicon-list-alt"></i>
			    Reportes
			    <span class="caret"></span>
			  </button>
			  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
			  <li role="presentation">
			  <a id="" role="menuitem" tabindex="-1" href="@controllers.dashboard.routes.DeudasGlobalizadasController.resumen082023ExportExcel()">Reporte Excel</a></li>
			  </ul>
			</div>
		</div>
	</div>
</div>

@views.html.tags.successError()
<div class="row"  style="">
	<div class="col-sm-6" style="">
		<table class="table table-striped table-bordered table-hover" id="listaInforme">

			<thead>
				<th style="text-align: center;" width="300">PROVEDORES</th>
				<th style="text-align: center;">DEUDA</th>
				<th style="text-align: center;">DEUDA EN TRAMITE</th>
				<th style="text-align: center;">TOTAL</th>
			</thead>
			<tbody>
				@for(pd <- proveedoresDestacados) {
					@if(Proveedor.getProveedoresDestacadosRA().contains(pd.getLong("proveedor_id"))){
						@{monto_total_ra_tmp= monto_total_ra_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_ra_tmp= monto_total_tramite_ra_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{hayra = new Boolean(true)}

					@if(Proveedor.getProveedoresTejedor().contains(pd.getLong("proveedor_id"))){
						@{monto_total_teje_tmp= monto_total_teje_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_teje_tmp= monto_total_tramite_teje_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{hayteje = new Boolean(true)}

					@if(Proveedor.getProveedoresYacaro().contains(pd.getLong("proveedor_id"))){
						@{monto_total_yaka_tmp= monto_total_yaka_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_yaka_tmp= monto_total_tramite_yaka_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{hayyaka = new Boolean(true)}



					@if(pd.getLong("proveedor_id").compareTo(new Long(17217)) == 0){  <!--MISSION GROUP S.R.L.-->
						@{monto_total_mission_tmp= monto_total_mission_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_mission_tmp= monto_total_tramite_mission_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haymission = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(11081)) == 0){  <!-- IPS-->
						@{monto_total_ips_tmp= monto_total_ips_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_ips_tmp= monto_total_tramite_ips_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{hayips = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(14733)) == 0){
						@{monto_total_bisio_tmp= monto_total_bisio_tmp.add(pd.getBigDecimal("total_deuda"))}<!-- BISIONES-->
						@{monto_total_tramite_bisio_tmp= monto_total_tramite_bisio_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haybisio = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(2713)) == 0){<!-- SAFITA-->
						@{monto_total_safita_tmp= monto_total_safita_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_safita_tmp= monto_total_tramite_safita_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haysafita = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(4359)) == 0){<!-- SAN JORGE-->
						@{monto_total_sanjorge_tmp= monto_total_sanjorge_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_sanjorge_tmp= monto_total_tramite_sanjorge_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haysanjorge = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(1589)) == 0){<!-- NR-->
						@{monto_total_nr_tmp= monto_total_nr_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_nr_tmp= monto_total_tramite_nr_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haynr = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(1838)) == 0){<!-- PACIFIC OCEAN-->
						@{monto_total_pacific_tmp= monto_total_pacific_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_pacific_tmp= monto_total_tramite_pacific_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haypacific = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(1592)) == 0){<!-- PINDOI -->
						@{monto_total_pindoi_tmp= monto_total_pindoi_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_pindoi_tmp= monto_total_tramite_pindoi_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haypindoi = new Boolean(true)}

					@if(pd.getLong("proveedor_id").compareTo(new Long(1588)) == 0){<!-- CMS -->
						@{monto_total_cms_tmp= monto_total_cms_tmp.add(pd.getBigDecimal("total_deuda"))}
						@{monto_total_tramite_cms_tmp= monto_total_tramite_cms_tmp.add(pd.getBigDecimal("total_deuda_en_tramite"))}
					}
					@{haycms = new Boolean(true)}


				}

				@for(otrosServicios <- proveedoresOtrosServicios) {

					@{monto_total_servicios_tmp= monto_total_servicios_tmp.add(otrosServicios.getBigDecimal("total_deuda"))}
					@{monto_total_tramite_servicios_tmp= monto_total_tramite_servicios_tmp.add(otrosServicios.getBigDecimal("total_deuda_en_tramite"))}
				}

				@for(otroRubros <- proveedoresOtrosRubros) {

					@{monto_total_otrosrubros_tmp= monto_total_otrosrubros_tmp.add(otroRubros.getBigDecimal("total_deuda"))}
					@{monto_total_tramite_otrosrubros_tmp= monto_total_tramite_otrosrubros_tmp.add(otroRubros.getBigDecimal("total_deuda_en_tramite"))}
				}

				@for(equipos <- proveedoresOtrosEquipos) {

					@{monto_total_equipos_tmp= monto_total_equipos_tmp.add(equipos.getBigDecimal("total_deuda"))}
					@{monto_total_tramite_equipos_tmp= monto_total_tramite_equipos_tmp.add(equipos.getBigDecimal("total_deuda_en_tramite"))}
				}




				@if(haybisio){
					<tr>
						<td>BISIONES (Servicios + Insumos)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_bisio_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_bisio_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_bisio_tmp.add(monto_total_tramite_bisio_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_bisio_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_bisio_tmp)}
				}

				<!-- Safita -->
				@if(haysafita){
					<tr>
						<td>SAFITA</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_safita_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_safita_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_safita_tmp.add(monto_total_tramite_safita_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_safita_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_safita_tmp)}
				}



				<!-- San Jorge -->
				@if(haysanjorge){
					<tr>
						<td>SAN JORGE</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_sanjorge_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_sanjorge_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_sanjorge_tmp.add(monto_total_tramite_sanjorge_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_sanjorge_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_sanjorge_tmp)}
				}


				@if(hayteje){

					<tr>
						<td class="getDetalleProveedor" data-title="TEJEDOR" style="cursor: pointer; color:blue;">TEJEDOR (IMPLANTEJ - LAS MISIONES - PRESTACIONES NEFROLOGICAS)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_teje_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_teje_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_teje_tmp.add(monto_total_tramite_teje_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_teje_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_teje_tmp)}
				}

				<!-- NR (mensual + insumos) -->
				<!--@if(haynr){
					<tr>
						<td>NR (Servicio mensual + Insumos)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_nr_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_nr_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_nr_tmp.add(monto_total_tramite_nr_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_nr_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_nr_tmp)}
				}-->

				@if(hayyaka){
					<tr>
						<td class="getDetalleProveedor" data-title="Yacaro" style="cursor: pointer; color:blue;">YAKARO</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_yaka_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_yaka_tmp)  </td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_yaka_tmp.add(monto_total_tramite_yaka_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_yaka_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_yaka_tmp)}
				}

				@if(haymission){
					<tr>
						<td>MISSION GROUP S.R.L.</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_mission_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_mission_tmp)  </td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_mission_tmp.add(monto_total_tramite_mission_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_mission_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_mission_tmp)}
				}

				<!-- Pacific Ocean-->
				@if(haypacific){
					<tr>
						<td>Pacific Ocean</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_pacific_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_pacific_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_pacific_tmp.add(monto_total_tramite_pacific_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_pacific_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_pacific_tmp)}
				}

				<!-- Constructora Pindoi-->
				<!--@if(haypindoi){
					<tr>
						<td>Constructora Pindoi</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_pindoi_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_pindoi_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_pindoi_tmp.add(monto_total_tramite_pindoi_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_pindoi_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_pindoi_tmp)}
				}-->

				<!-- CMS-->

				@if(haycms){
					<tr>
						<td>CMS</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_cms_tmp)</td>
						<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_cms_tmp)</td>
						<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_cms_tmp.add(monto_total_tramite_cms_tmp))</b></td>
					</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_cms_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_cms_tmp)}
				}


				<tr>
					<td class="getDetalleProveedor" data-title="OTROS SERVICIOS" style="cursor: pointer; color:blue;">OTROS SERVICIOS (Oxigeno, Jefatura, Multimedios, Derivaciones, Mantenimiento Equipos, Pasajes, etc)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_servicios_tmp)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_servicios_tmp)</td>
					<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_servicios_tmp.add(monto_total_tramite_servicios_tmp))</b></td>
				</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_servicios_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_servicios_tmp)}

				<tr>
					<td class="getDetalleProveedor" data-title="OTROS PROVEEDORES" style="cursor: pointer; color:blue;">OTROS PROVEEDORES (Protesis, descartables, repuestos, libreria, combustible, agua, etc)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_otrosrubros_tmp)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_otrosrubros_tmp)</td>
					<td align="right"><b style="font-size: 16px;">@utils.NumberUtils.monedaSinDecimales(monto_total_otrosrubros_tmp.add(monto_total_tramite_otrosrubros_tmp))</b></td>
				</tr>
					@{monto_total_deuda = monto_total_deuda.add(monto_total_otrosrubros_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_otrosrubros_tmp)}

				<tr>
					<td class="getDetalleProveedor" data-title="EQUIPAMIENTOS" style="cursor: pointer; color:blue;">EQUIPAMIENTOS</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_equipos_tmp)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_equipos_tmp)  </td>
					<td align="right"><b style="font-size: 18px;">@utils.NumberUtils.monedaSinDecimales(monto_total_equipos_tmp.add(monto_total_tramite_equipos_tmp))</b></td>
				</tr>

					@{monto_total_deuda = monto_total_deuda.add(monto_total_equipos_tmp)}
					@{monto_total_tramite = monto_total_tramite.add(monto_total_tramite_equipos_tmp)}

			</tbody>
			<tfoot>
				<tr>
					<td align="right"><b>SUB-TOTALES</b></td>
					<td align="right"><b>@utils.NumberUtils.monedaSinDecimales(monto_total_deuda)</b></td>
					<td align="right"><b>@utils.NumberUtils.monedaSinDecimales(monto_total_tramite)</b></td>
					<td align="right"><b style="font-size: 18px;">@utils.NumberUtils.monedaSinDecimales(monto_total_deuda.add(monto_total_tramite))</b></td>
				</tr>
				<!-- <tr>
					<td align="center" colspan="4" style="font-size:18px;text-align:center;">
					<b>TOTAL:
					</b></td>

				</tr> -->
			</tfoot>
		</table>
<hr>
		<table class="table table-striped table-bordered table-hover" id="listaInforme">

			<thead>
				<th style="text-align: center;" width="300">PROVEDORES</th>
				<th style="text-align: center;">DEUDA</th>
				<th style="text-align: center;"">DEUDA EN TRAMITE</th>
				<th style="text-align: center;">TOTAL</th>
			</thead>
			<tbody>
				<tr>
					<td class="getDetalleProveedor" data-title="R.A." style="cursor: pointer; color:blue;">R.A.</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_ra_tmp)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_ra_tmp)  </td>
					<td align="right"><b style="font-size: 18px;">@utils.NumberUtils.monedaSinDecimales(monto_total_ra_tmp.add(monto_total_tramite_ra_tmp))</b></td>
				</tr>
			</tbody>
			<tfoot>

			</tfoot>
		</table>
<hr>

		<!-- <table class="table table-striped table-bordered table-hover" id="listaInforme">

			<thead>
				<th style="text-align: center;" width="300">PROVEDORES</th>
				<th style="text-align: center;">DEUDA</th>
				<th style="text-align: center;">DEUDA EN TRAMITE</th>
				<th style="text-align: center;">TOTAL</th>
			</thead>
			<tbody>
				<tr>
					<td>IPS</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_ips_tmp)</td>
					<td align="right">@utils.NumberUtils.monedaSinDecimales(monto_total_tramite_ips_tmp)  </td>
					<td align="right"><b style="font-size: 18px;">@utils.NumberUtils.monedaSinDecimales(monto_total_ips_tmp.add(monto_total_tramite_ips_tmp))</b></td>
				</tr>
			</tbody>
			<tfoot>


			</tfoot>
		</table> -->

	</div>

	<div class="col-sm-6" style="">
		<div id="contenedorCarga">


		</div>
	</div>
</div>
}